<!DOCTYPE HTML>
<html lang='en'>
<head>
 <title> audio test </title>
 <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
 <link rel='stylesheet' type='text/css' href='default.css'/>
</head>

<!-- TO DO
  x draw zoom box on main waveform display
  x make zoom box slideable or pan in zoom waveform?
  x better zoom in/out buttons
  - vertical scale on FFT
  x logy option on FFT
  ? zoomable/slidable FFT with better buttons
  - gapless looping would be nice
-->

<body>
<div id="container">
<h1> SPECTRA FROM THE MICROPHONE </h1>

<div style="visibility:hidden">
Input play-through monitoring:
<audio id="playthru" autoplay controls muted="true"></audio>
</div>

<audio id="sampled" controls type="audio/mpeg"></audio><br/>
<p>sampled audio</p>
<div id="wavecanvas"><canvas id="waveform" height="100" width="1000"></canvas></div>
<div id='sampled-controls'>
  <input id="playSample" type="button" class="btn" value="play"
    onclick="playSample();">
  <input id="record" style="color:red;" type="button" class="btn" value="hold to record"/>
  <input id="zoomin" type="button" class="btn" value="zoom in"/>
  <input id="zoomout" type="button" class="btn" value="zoom out"/>
  <a id="save" class="btn" href="#" style="visibility:hidden">save</a>
</div>

<br/>

<audio id="snippet" controls type="audio/mpeg"></audio><br/>
<p>selected audio snippet</p>
<div id="zoomcanvas"><canvas id="wavezoom" height="100" width="1000"></canvas></div>
<div id="snippet-controls">
  <input id="playSnippet" type="button" class="btn" value="play/pause"
    onclick="playSnippet();">
  <p><label for="sniploop">loop audio</label><input id="sniploop" type="checkbox"/></p>
  <p><label for="reverseplay">reverse playback</label><input id="reverseplay" type="checkbox"/></p>
  <p> <label for="zoomstart">zoom starting sample</label><input id="zoomstart" type="number" value="3000" step="1"/> </p>
  <p> <label for="fftexp">zoom width index</label><input id="fftexp" type="number" value="11"/> </p>
</div>

<br/>
<p> Frequency spectrum</p>
<div id="fftcanvas"><canvas id="wavefft" height="100" width="1000"></canvas></div>
<p> <label for="guidetoggle">show harmonic guides</label><input
id="guidetoggle" type="checkbox"/> &nbsp; (click on spectrum to place fundamental)</p>
<p> <label for="guidefreq">guide frequency</label><input id="guidefreq" type="number" value="440" step="1"/></p>
<p> <label for="logtoggle">log scale</label><input id="logtoggle" type="checkbox"/> </p>
<p> <label for="freqmin">min frequency</label><input id="freqmin" type="number" value="0" step="100"/> </p>
<p> <label for="freqmax">max frequency</label><input id="freqmax" type="number" value="4000" step="100"/> </p>
<hr/>


<p>
  <input id="opentone" type="button" class="btn" value="open tone generator"
    onclick=" window.open('tone.html','_blank');"
> 
</p>

<div id="logdiv" style="visibility:hidden">
output log:<br>
</div>

</div>
<!--  -->
<!--  -->
<!-- end HTML portion -->
<!--  -->
<!--  -->

<script src="fft2.js"></script>
<script src="audiorecorder.js"></script>
<script src="index.js"></script>

</body>
</html>
